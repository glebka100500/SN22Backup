<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_metadata_link">
    <sys_metadata_link action="INSERT_OR_UPDATE">
        <directory>update</directory>
        <documentkey>7453562bb767330070492811ee11a91a</documentkey>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;
    &lt;sys_script_include action="INSERT_OR_UPDATE"&gt;
        &lt;access&gt;package_private&lt;/access&gt;
        &lt;active&gt;true&lt;/active&gt;
        &lt;api_name&gt;global.RESTAPIDesignerCommon&lt;/api_name&gt;
        &lt;caller_access/&gt;
        &lt;client_callable&gt;false&lt;/client_callable&gt;
        &lt;description/&gt;
        &lt;name&gt;RESTAPIDesignerCommon&lt;/name&gt;
        &lt;script&gt;&lt;![CDATA[var RESTAPIDesignerCommon = (function() {
	
	function normalizeServiceId(svcId) {
		// all non-lowercase chars and digits to '_'
		svcId = svcId.toLowerCase().replace(/[^a-z0-9_]/g, '_');
		
		// replace repeating '_' chars with a single '_'
		svcId = svcId.replace(/_+/g, '_');
		
		// remove the trailing '_' if present
		if (svcId.charAt(svcId.length-1) == '_')
			svcId = svcId.substring(0, svcId.length-1);
		
		return svcId;
	}
	
	function normalizeRelativePath(templateUri) {
		var uri = '/' + templateUri;
		
		// convert all non-alphanumeric and chars other than '_/{}' to '_'.
		uri = uri.replace(/[^a-zA-Z0-9_\/\{\}]/g, '_');
		
		// replace repeating '_' chars with a single '_'
		uri = uri.replace(/_+/g, '_');
		
		// replace repeating '/' chars with a single '/'
		uri = uri.replace(/\/+/g, '/');
		
		// remove the trailing '_' or '/' chars if present
		uri = uri.replace(/[_\/]+$/, '');
		
		if (0 === uri.length)
			uri = '/';
		
		return uri;
	}
	
	function deleteLocalSchema(entityId) {
		deleteMapping('sys_api_schema_local', entityId);	
	}
	
	function deleteParameterMappings(entityId) {		
		deleteMapping('sys_api_parameter_map', entityId);
		deleteMapping('sys_api_parameter_local', entityId);
	}
	
	function deleteContent(entityId) {		
		deleteMapping('sys_api_content', entityId);
	}
	
	function deleteMapping(tableName, entityId) {
		var mapping = new GlideRecord(tableName);
		mapping.addQuery('api_entity', entityId);
		mapping.query();
		
		if (mapping.getRowCount() &gt; 0) {
			mapping.deleteMultiple();
		}		
	}
	
	return {
		normalizeServiceId: normalizeServiceId,
		normalizeRelativePath: normalizeRelativePath,
		deleteParameterMappings: deleteParameterMappings,
		deleteContent: deleteContent,
		deleteLocalSchema: deleteLocalSchema
	};
})();]]&gt;&lt;/script&gt;
        &lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;
        &lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;
        &lt;sys_created_on&gt;2019-09-03 22:09:28&lt;/sys_created_on&gt;
        &lt;sys_id&gt;7453562bb767330070492811ee11a91a&lt;/sys_id&gt;
        &lt;sys_mod_count&gt;62&lt;/sys_mod_count&gt;
        &lt;sys_name&gt;RESTAPIDesignerCommon&lt;/sys_name&gt;
        &lt;sys_package display_value="REST API Builder Backend" source="com.glide.rest.api_builder.backend"&gt;088f37f42f010110d8a4d5f62799b633&lt;/sys_package&gt;
        &lt;sys_policy/&gt;
        &lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;
        &lt;sys_update_name&gt;sys_script_include_7453562bb767330070492811ee11a91a&lt;/sys_update_name&gt;
        &lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;
        &lt;sys_updated_on&gt;2020-09-22 04:00:11&lt;/sys_updated_on&gt;
        &lt;u_script_length&gt;1776&lt;/u_script_length&gt;
    &lt;/sys_script_include&gt;
&lt;/record_update&gt;
</payload>
        <sys_class_name>sys_metadata_link</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-12-19 20:28:33</sys_created_on>
        <sys_id>b7cc053e2f331110d8a4d5f62799b6da</sys_id>
        <sys_name>RESTAPIDesignerCommon</sys_name>
        <sys_package display_value="Integrations 2022" source="x_644088_integrati">4c7ca0582f0c9110d8a4d5f62799b66d</sys_package>
        <sys_policy/>
        <sys_scope display_value="Integrations 2022">4c7ca0582f0c9110d8a4d5f62799b66d</sys_scope>
        <sys_update_name>sys_metadata_link_b7cc053e2f331110d8a4d5f62799b6da</sys_update_name>
        <tablename>sys_script_include</tablename>
    </sys_metadata_link>
</record_update>

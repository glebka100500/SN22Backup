<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_metadata_link">
    <sys_metadata_link action="INSERT_OR_UPDATE">
        <directory>update</directory>
        <documentkey>733d2007ef12110032a05ad595c0fbf6</documentkey>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;
    &lt;sys_script_include action="INSERT_OR_UPDATE"&gt;
        &lt;access&gt;package_private&lt;/access&gt;
        &lt;active&gt;true&lt;/active&gt;
        &lt;api_name&gt;global.PASearchAjax&lt;/api_name&gt;
        &lt;caller_access/&gt;
        &lt;client_callable&gt;true&lt;/client_callable&gt;
        &lt;description&gt;AJAX methods for search in Performance Analytics.&lt;/description&gt;
        &lt;name&gt;PASearchAjax&lt;/name&gt;
        &lt;script&gt;&lt;![CDATA[var PASearchAjax = Class.create();
PASearchAjax.prototype = Object.extendsObject(AbstractAjaxProcessor, {
    initialize: function(request, responseXML, gc) {
        AbstractAjaxProcessor.prototype.initialize.call(this,request, responseXML, gc);
    },

    getSearchResults: function() {
		var value = this.getParameter("sysparm_value");
        var timer = this.getParameter("sysparm_timer");
		var totalCount = 0;
		
        var tags = new GlideRecord("pa_tags");
		tags.addEncodedQuery("labelLIKE" + value);
		tags.orderBy("label");
		tags.query();

        var tagInfo = [];
		var count = 0;

        while (tags.next() &amp;&amp; count &lt; this.MAX_RESULTS) {
			if (tags.canRead()) {
				count++;
            	tagInfo.push({"label": tags.getDisplayValue()+"",
                          	"name": tags.sys_id+"",
							  "type": "Tag"});
			}
        }
		totalCount += count;
		
		var indicators = new GlideRecord("pa_indicators");
		indicators.addQuery("display", true);
		indicators.addEncodedQuery("nameLIKE" + value);
		indicators.addNullQuery("benchmarking").addOrCondition("benchmarking", "equals", false);
		indicators.orderBy("name");
		indicators.query();
		
		var indicatorInfo = [];
		count = 0;
		
        while (indicators.next() &amp;&amp; count &lt; this.MAX_RESULTS) {
			if (indicators.canRead()) {
				count++;
            	indicatorInfo.push({"label": indicators.getDisplayValue()+"",
                          	"name": indicators.sys_id+"",
							  "type": "Name"});
			}
        }
		totalCount += count;
		
		var result = {};
		result.recordList = {};
		result.recordList.Tag = tagInfo;
		result.recordList.Name = indicatorInfo;
		result.timer = timer;
		result.rowCount = count;
		return new global.JSON().encode(result);
    },

    type: 'PASearchAjax',
	MAX_RESULTS: 5
});]]&gt;&lt;/script&gt;
        &lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;
        &lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;
        &lt;sys_created_on&gt;2014-01-20 12:16:30&lt;/sys_created_on&gt;
        &lt;sys_id&gt;733d2007ef12110032a05ad595c0fbf6&lt;/sys_id&gt;
        &lt;sys_mod_count&gt;28&lt;/sys_mod_count&gt;
        &lt;sys_name&gt;PASearchAjax&lt;/sys_name&gt;
        &lt;sys_package display_value="Performance Analytics" source="com.snc.pa"&gt;97a305876da620100acb70b353433004&lt;/sys_package&gt;
        &lt;sys_policy/&gt;
        &lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;
        &lt;sys_update_name&gt;sys_script_include_733d2007ef12110032a05ad595c0fbf6&lt;/sys_update_name&gt;
        &lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;
        &lt;sys_updated_on&gt;2017-03-29 14:54:48&lt;/sys_updated_on&gt;
        &lt;u_script_length&gt;1784&lt;/u_script_length&gt;
    &lt;/sys_script_include&gt;
&lt;/record_update&gt;
</payload>
        <sys_class_name>sys_metadata_link</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-12-19 20:28:30</sys_created_on>
        <sys_id>0bcc053e2f331110d8a4d5f62799b667</sys_id>
        <sys_name>PASearchAjax</sys_name>
        <sys_package display_value="Integrations 2022" source="x_644088_integrati">4c7ca0582f0c9110d8a4d5f62799b66d</sys_package>
        <sys_policy/>
        <sys_scope display_value="Integrations 2022">4c7ca0582f0c9110d8a4d5f62799b66d</sys_scope>
        <sys_update_name>sys_metadata_link_0bcc053e2f331110d8a4d5f62799b667</sys_update_name>
        <tablename>sys_script_include</tablename>
    </sys_metadata_link>
</record_update>
